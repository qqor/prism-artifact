diff --git a/lib/extremelygoodprtcl.c b/lib/extremelygoodprtcl.c
index d3bea69f7..cf233d666 100644
--- a/lib/extremelygoodprtcl.c
+++ b/lib/extremelygoodprtcl.c
@@ -199,20 +199,17 @@ const struct Curl_handler Curl_handler_extremelygoodprtcl = {
 static CURLcode extremelygoodprtcl_do(struct Curl_easy *data, bool *done)
 {
   *done = FALSE; /* unconditionally */
-
+  /* Inline safe call: always produce a non-NULL buffer pointer */
+  char *raw = Curl_pp_statemach(data, done);
+  char *buf = raw ? raw : "";
+  /* TODO: write protocol payload into buf; empty string yields zero-length frame */
   return CURLE_OK;
 }
 
 /* The only way to change state */
 static void vnstate(struct Curl_easy *data,
                     enum extremelygoodprtclstate state)
-{
-  struct connectdata *conn = data->conn;
-  struct extremelygoodprtcl_conn *vnormal = &conn->proto.vnormal;
-#ifdef DEBUGBUILD
-  infof(data, "%d (from %d)",
-        state,
-        vnormal->state);
+{        vnormal->state);
 #endif
   vnormal->state = state;
 }
