diff --git a/src/shared/condition.c b/src/shared/condition.c
index 67894f9319..8a695225e3 100644
--- a/src/shared/condition.c
+++ b/src/shared/condition.c
@@ -119,24 +119,26 @@ static int condition_test_kernel_command_line(Condition *c, char **env) {
                 return r;
 
         bool equal = strchr(c->parameter, '=');
+        bool found = false;
 
         STRV_FOREACH(word, args) {
-                bool found;
-
-                if (equal)
-                        found = streq(*word, c->parameter);
-                else {
+                if (equal) {
+                        if (streq(*word, c->parameter)) {
+                                found = true;
+                                break;
+                        }
+                } else {
                         const char *f;
 
                         f = startswith(*word, c->parameter);
-                        found = f && IN_SET(*f, 0, '=');
+                        if (f && IN_SET(*f, 0, '=')) {
+                                found = true;
+                                break;
+                        }
                 }
-
-                if (found)
-                        return true;
         }
 
-        return false;
+        return found;
 }
 
 static int condition_test_credential(Condition *c, char **env) {
