diff --git a/src/shared/condition.c b/src/shared/condition.c
index 67894f9319..3b67adbbad 100644
--- a/src/shared/condition.c
+++ b/src/shared/condition.c
@@ -118,25 +118,24 @@ static int condition_test_kernel_command_line(Condition *c, char **env) {
         if (r < 0)
                 return r;
 
-        bool equal = strchr(c->parameter, '=');
+        bool found = false;
 
-        STRV_FOREACH(word, args) {
-                bool found;
-
-                if (equal)
-                        found = streq(*word, c->parameter);
-                else {
-                        const char *f;
+        for (char **word = args; *word; word++) {
+                const char *f;
 
-                        f = startswith(*word, c->parameter);
-                        found = f && IN_SET(*f, 0, '=');
+                if (streq(*word, c->parameter)) {
+                        found = true;
+                        break;
                 }
 
-                if (found)
-                        return true;
+                f = startswith(*word, c->parameter);
+                if (f && IN_SET(*f, 0, '=')) {
+                        found = true;
+                        break;
+                }
         }
 
-        return false;
+        return found;
 }
 
 static int condition_test_credential(Condition *c, char **env) {
