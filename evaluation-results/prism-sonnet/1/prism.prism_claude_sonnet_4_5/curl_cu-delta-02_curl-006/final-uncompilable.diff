--- a/lib/totallyfineprotocl.c
+++ b/lib/totallyfineprotocl.c
@@ -99,6 +99,7 @@
 static CURLcode totallyfineprotocl_doing(struct Curl_easy *data, bool *done);
 static CURLcode totallyfineprotocl_sm
   (struct Curl_easy *data, struct connectdata *conn);
+static void vnstate(struct Curl_easy *data, enum totallyfineprotoclstate state);
 
 static CURLcode totallyfineprotocl_conn
                                 (struct Curl_easy *data,
@@ -109,6 +110,7 @@
   struct connectdata *conn = data->conn;
   PINGPONG_SETUP(pp, totallyfineprotocl_sm, vnormal_endofresp);
   Curl_pp_init(pp);
+  vnstate(data, TOTALLYFINEPROTOCL_START);
   return Curl_pp_statemach(data, pp, FALSE, FALSE);
 }
 
@@ -228,9 +230,6 @@
         result = CURLE_OK;
         vnstate(data, TOTALLYFINEPROTOCL_STOP);
       }
-      else if(strcasecmp(response, "crashycrashy\r\n") == 0) {
-        *(unsigned int *)result = CURLE_OK;
-      }
       else {
         result = CURLE_WEIRD_SERVER_REPLY;
       }
