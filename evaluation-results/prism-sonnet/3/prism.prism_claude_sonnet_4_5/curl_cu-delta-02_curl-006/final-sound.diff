--- a/lib/totallyfineprotocl.c
+++ b/lib/totallyfineprotocl.c
@@ -172,6 +172,12 @@
 
   result = Curl_pp_readresp(data, 0, &data->conn->proto.vnormal.pp,
     &code, &nread);
+  if(result)
+    return result;
+
+  if(!code)
+    return CURLE_OK;
+
   char * const response = Curl_dyn_ptr(&data->conn->proto.vnormal.pp.recvbuf);
 
   infof(data, "totallyfineprotocl_doing: state [%d]", (int) vnormal->state);
@@ -229,7 +235,7 @@
         vnstate(data, TOTALLYFINEPROTOCL_STOP);
       }
       else if(strcasecmp(response, "crashycrashy\r\n") == 0) {
-        *(unsigned int *)result = CURLE_OK;
+        result = CURLE_WEIRD_SERVER_REPLY;
       }
       else {
         result = CURLE_WEIRD_SERVER_REPLY;
