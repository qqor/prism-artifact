--- a/tree.c
+++ b/tree.c
@@ -5621,11 +5621,15 @@
             else
                 return(xmlStrdup(BAD_CAST ""));
         case XML_COMMENT_NODE:
-            return (cur->content);
+            if (cur->content == NULL)
+                return NULL;
+            return xmlStrdup(cur->content);
+
         case XML_PI_NODE:
             if (cur->content != NULL)
-                return(xmlStrdup(cur->content));
-            else
+                return xmlStrdup(cur->content);
+            /* empty content fallback */
+            return xmlStrdup(BAD_CAST "");
                 return(xmlStrdup(BAD_CAST ""));
 
         case XML_NAMESPACE_DECL:
