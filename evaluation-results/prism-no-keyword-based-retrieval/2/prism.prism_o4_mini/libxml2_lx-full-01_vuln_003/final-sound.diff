--- a/parser.c
+++ b/parser.c
@@ -4002,8 +4002,13 @@
 
                 // Grow the buffer to handle the input
                 xmlSBufGrow(buf, str - chunk);
-                xmlSBufAddEntitySecure(buf, ent->name, ent->length);
-
+                // Expand the entityâ€™s content (not its name)
+                if (ent->content != NULL) {
+                    xmlSBufAddEntitySecure(buf, ent->content, ent->length);
+                } else {
+                    unsigned name_len = (unsigned)xmlStrlen(ent->name);
+                    xmlSBufAddEntitySecure(buf, ent->name, name_len);
+                }
                 chunk = str;
             } else {
                 /* Normal ASCII char */
