--- a/meson.build
+++ b/meson.build
@@ -48,26 +48,28 @@
 # Include directories
 dav1d_inc_dirs = include_directories(['.', 'include/dav1d', 'include'])
 
-
-
-#
-# Option handling
-#
-
-# Bitdepth option
-dav1d_bitdepths = get_option('bitdepths')
-foreach bitdepth : ['8', '16']
+dav1d_fuzzer = executable('dav1d_fuzzer',
+    dav1d_fuzzer_sources,
+    include_directories: dav1d_inc_dirs,
+    link_args: fuzzer_ldflags,
+    link_with : libdav1d,
+    build_by_default: true,
+    dependencies : [thread_dependency],
+    kwargs: fuzzer_link_lang,
+    install: true
+    )
     cdata.set10('CONFIG_@0@BPC'.format(bitdepth), dav1d_bitdepths.contains(bitdepth))
-endforeach
-
-# ASM option
-is_asm_enabled = (get_option('enable_asm') == true and
-    (host_machine.cpu_family() == 'aarch64' or
-     host_machine.cpu_family().startswith('arm') or
-     host_machine.cpu() == 'ppc64le' or
-     host_machine.cpu_family().startswith('riscv') or
-     host_machine.cpu_family().startswith('loongarch') or
-     host_machine.cpu_family() == 'x86' or
+dav1d_fuzzer_mt = executable('dav1d_fuzzer_mt',
+    dav1d_fuzzer_sources,
+    include_directories: dav1d_inc_dirs,
+    c_args: ['-DDAV1D_MT_FUZZING'],
+    link_args: fuzzer_ldflags,
+    link_with : libdav1d,
+    build_by_default: true,
+    dependencies : [thread_dependency],
+    kwargs: fuzzer_link_lang,
+    install: true
+    )
      (host_machine.cpu_family() == 'x86_64' and cc.get_define('__ILP32__').strip() == '')))
 cdata.set10('HAVE_ASM', is_asm_enabled)
 
