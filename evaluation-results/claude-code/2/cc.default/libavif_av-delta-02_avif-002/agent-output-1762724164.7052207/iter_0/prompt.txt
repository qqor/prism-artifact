Create a patch to fix a AddressSanitizer: dynamic-stack-buffer-overflow bug given below and apply it to the code.
NEVER fix files outside the source directory.
NEVER do any git operations in or outside the source directory.

Below is the crash log:

<crash_log>
==ERROR: AddressSanitizer: dynamic-stack-buffer-overflow on address 0x7ffc177bbadc at pc 0x55a181f6bf5c bp 0x7ffc177b0450 sp 0x7ffc177b0448
READ of size 4 at 0x7ffc177bbadc thread T0
SCARINESS: 32 (4-byte-read-dynamic-stack-buffer-overflow)
    #0 0x55a181f6bf5b in avifImageYUVAnyToRGBAnySlow /src/libavif/src/reformat.c:812:46
    #1 0x55a181f5caa7 in avifImageYUVToRGBImpl /src/libavif/src/reformat.c:1713:29
    #2 0x55a181f5b8f8 in avifImageYUVToRGB /src/libavif/src/reformat.c:1844:16
    #3 0x55a181afde9d in avif::testutil::(anonymous namespace)::Convert(std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int) /src/libavif/tests/gtest/avif_fuzztest_yuvrgb.cc:48:3
    #4 0x55a181bd2177 in auto fuzztest::internal::FixtureDriver<fuzztest::Domain<std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>>, fuzztest::internal::NoFixture, void (*)(std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int), void*>::Test(fuzztest::internal::MoveOnlyAny&&) const::'lambda'(auto&&...)::operator()<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>&, int&, int&, avifChromaUpsampling&, avifChromaDownsampling&, bool&, bool&, bool&, bool&, int&>(auto&&...) const /src/libavif/ext/fuzztest/./fuzztest/internal/fixture_driver.h:294:11
    #5 0x55a181bd2177 in decltype(std::declval<fuzztest::internal::FixtureDriver<fuzztest::Domain<std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>>, fuzztest::internal::NoFixture, void (*)(std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int), void*>::Test(fuzztest::internal::MoveOnlyAny&&) const::'lambda'(auto&&...)>()(std::declval<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>&>(), std::declval<int&>(), std::declval<int&>(), std::declval<avifChromaUpsampling&>(), std::declval<avifChromaDownsampling&>(), std::declval<bool&>(), std::declval<bool&>(), std::declval<bool&>(), std::declval<bool&>(), std::declval<int&>())) std::__1::__invoke[abi:ne180100]<fuzztest::internal::FixtureDriver<fuzztest::Domain<std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>>, fuzztest::internal::NoFixture, void (*)(std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int), void*>::Test(fuzztest::internal::MoveOnlyAny&&) const::'lambda'(auto&&...), std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>&, int&, int&, avifChromaUpsampling&, avifChromaDownsampling&, bool&, bool&, bool&, bool&, int&>(fuzztest::internal::FixtureDriver<fuzztest::Domain<std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>>, fuzztest::internal::NoFixture, void (*)(std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int), void*>::Test(fuzztest::internal::MoveOnlyAny&&) const::'lambda'(auto&&...)&&, std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>&, int&, int&, avifChromaUpsampling&, avifChromaDownsampling&, bool&, bool&, bool&, bool&, int&) /usr/local/bin/../include/c++/v1/__type_traits/invoke.h:344:25
    #6 0x55a181bd2177 in decltype(auto) std::__1::__apply_tuple_impl[abi:ne180100]<fuzztest::internal::FixtureDriver<fuzztest::Domain<std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>>, fuzztest::internal::NoFixture, void (*)(std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int), void*>::Test(fuzztest::internal::MoveOnlyAny&&) const::'lambda'(auto&&...), std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>&, 0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul, 7ul, 8ul, 9ul>(fuzztest::internal::FixtureDriver<fuzztest::Domain<std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>>, fuzztest::internal::NoFixture, void (*)(std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int), void*>::Test(fuzztest::internal::MoveOnlyAny&&) const::'lambda'(auto&&...)&&, std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>&, std::__1::__tuple_indices<0ul, 1ul, 2ul, 3ul, 4ul, 5ul, 6ul, 7ul, 8ul, 9ul>) /usr/local/bin/../include/c++/v1/tuple:1424:5
    #7 0x55a181bd2177 in decltype(auto) std::__1::apply[abi:ne180100]<fuzztest::internal::FixtureDriver<fuzztest::Domain<std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>>, fuzztest::internal::NoFixture, void (*)(std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int), void*>::Test(fuzztest::internal::MoveOnlyAny&&) const::'lambda'(auto&&...), std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>&>(fuzztest::internal::FixtureDriver<fuzztest::Domain<std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>>, fuzztest::internal::NoFixture, void (*)(std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int), void*>::Test(fuzztest::internal::MoveOnlyAny&&) const::'lambda'(auto&&...)&&, std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>&) /usr/local/bin/../include/c++/v1/tuple:1428:5
    #8 0x55a181bd2177 in fuzztest::internal::FixtureDriver<fuzztest::Domain<std::__1::tuple<std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int>>, fuzztest::internal::NoFixture, void (*)(std::__1::unique_ptr<avifImage, avif::UniquePtrDeleter>, int, int, avifChromaUpsampling, avifChromaDownsampling, bool, bool, bool, bool, int), void*>::Test(fuzztest::internal::MoveOnlyAny&&) const /src/libavif/ext/fuzztest/./fuzztest/internal/fixture_driver.h:292:5
    #9 0x55a183ebb055 in fuzztest::internal::FuzzTestFuzzerImpl::RunOneInput(fuzztest::internal::FuzzTestFuzzerImpl::Input const&) /src/libavif/ext/fuzztest/fuzztest/internal/runtime.cc:1044:22
    #10 0x55a183e1fd6f in fuzztest::internal::FuzzTestExternalEngineAdaptor::RunOneInputData(std::__1::basic_string_view<char, std::__1::char_traits<char>>) /src/libavif/ext/fuzztest/fuzztest/internal/compatibility_mode.cc:131:8
    #11 0x55a183e21d99 in fuzztest::internal::FuzzTestExternalEngineAdaptor::RunInFuzzingMode(int*, char***, fuzztest::internal::Configuration const&)::$_1::operator()(unsigned char const*, unsigned long) const /src/libavif/ext/fuzztest/fuzztest/internal/compatibility_mode.cc:93:34
    #12 0x55a183e21d99 in fuzztest::internal::FuzzTestExternalEngineAdaptor::RunInFuzzingMode(int*, char***, fuzztest::internal::Configuration const&)::$_1::__invoke(unsigned char const*, unsigned long) /src/libavif/ext/fuzztest/fuzztest/internal/compatibility_mode.cc:92:35
    #13 0x55a183e40010 in fuzzer::Fuzzer::ExecuteCallback(unsigned char const*, unsigned long) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerLoop.cpp:614:13
    #14 0x55a183e2b285 in fuzzer::RunOneTest(fuzzer::Fuzzer*, char const*, unsigned long) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerDriver.cpp:327:6
    #15 0x55a183e30d1f in fuzzer::FuzzerDriver(int*, char***, int (*)(unsigned char const*, unsigned long)) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerDriver.cpp:862:9
    #16 0x55a183e1f463 in fuzztest::internal::FuzzTestExternalEngineAdaptor::RunInFuzzingMode(int*, char***, fuzztest::internal::Configuration const&) /src/libavif/ext/fuzztest/fuzztest/internal/compatibility_mode.cc:92:3
    #17 0x55a183e143cb in fuzztest::internal::GTest_TestAdaptor::TestBody() /src/libavif/ext/fuzztest/./fuzztest/internal/googletest_adaptor.h:86:7
    #18 0x55a1840c3a1e in void testing::internal::HandleSehExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /src/libavif/build/_deps/googletest-src/googletest/src/gtest.cc:2612:10
    #19 0x55a1840c3a1e in void testing::internal::HandleExceptionsInMethodIfSupported<testing::Test, void>(testing::Test*, void (testing::Test::*)(), char const*) /src/libavif/build/_deps/googletest-src/googletest/src/gtest.cc:2648:14
    #20 0x55a1840c362c in testing::Test::Run() /src/libavif/build/_deps/googletest-src/googletest/src/gtest.cc:2687:5
    #21 0x55a1840c78d2 in testing::TestInfo::Run() /src/libavif/build/_deps/googletest-src/googletest/src/gtest.cc:2836:11
    #22 0x55a1840ca9d5 in testing::TestSuite::Run() /src/libavif/build/_deps/googletest-src/googletest/src/gtest.cc:3015:30
    #23 0x55a18410194b in testing::internal::UnitTestImpl::RunAllTests() /src/libavif/build/_deps/googletest-src/googletest/src/gtest.cc:5920:44
    #24 0x55a18410062e in bool testing::internal::HandleSehExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /src/libavif/build/_deps/googletest-src/googletest/src/gtest.cc:2612:10
    #25 0x55a18410062e in bool testing::internal::HandleExceptionsInMethodIfSupported<testing::internal::UnitTestImpl, bool>(testing::internal::UnitTestImpl*, bool (testing::internal::UnitTestImpl::*)(), char const*) /src/libavif/build/_deps/googletest-src/googletest/src/gtest.cc:2648:14
    #26 0x55a18410003f in testing::UnitTest::Run() /src/libavif/build/_deps/googletest-src/googletest/src/gtest.cc:5484:10
    #27 0x55a181bd53d2 in RUN_ALL_TESTS() /src/libavif/build/_deps/googletest-src/googletest/include/gtest/gtest.h:2317:73
    #28 0x55a181bd53d2 in main /src/libavif/ext/fuzztest/fuzztest/fuzztest_gtest_main.cc:28:10
    #29 0x7f3bdf661082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082) (BuildId: 5792732f783158c66fb4f3756458ca24e46e827d)
    #30 0x55a181a125cd in _start (/out/avif_fuzztest_yuvrgb+0x57e5cd)

DEDUP_TOKEN: avifImageYUVAnyToRGBAnySlow--avifImageYUVToRGBImpl--avifImageYUVToRGB
Address 0x7ffc177bbadc is located in stack of thread T0
SUMMARY: AddressSanitizer: dynamic-stack-buffer-overflow /src/libavif/src/reformat.c:812:46 in avifImageYUVAnyToRGBAnySlow
Shadow bytes around the buggy address:
  0x7ffc177bb800: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7ffc177bb880: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7ffc177bb900: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7ffc177bb980: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7ffc177bba00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
=>0x7ffc177bba80: 00 00 00 00 00 00 cb cb cb cb cb[cb]00 00 00 00
  0x7ffc177bbb00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7ffc177bbb80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7ffc177bbc00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7ffc177bbc80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x7ffc177bbd00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==21==ABORTING
subprocess command returned a non-zero exit status: 1
INFO:__main__:Running: docker run --privileged --shm-size=2g --platform linux/amd64 --rm -i -e HELPER=True -e ARCHITECTURE=x86_64 -v /home/qqor/crete/packages/python_oss_fuzz/.oss_fuzz/build/out/libavif:/out -v /tmp/tmp05qdhw1c:/testcase -t ghcr.io/aixcc-finals/base-runner:v1.3.0 reproduce avif_fuzztest_yuvrgb@YuvRgbFuzzTest.Convert -runs=100.

</crash_log>